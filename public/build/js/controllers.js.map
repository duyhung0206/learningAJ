{"version":3,"sources":["userController.js","globalController.js","navController.js","galleryController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["myApp.controller('userController', ['$scope', '$location', 'userModel', function($scope, $location, userModel){\n\tangular.extend($scope, {\n\t\tlogin:{\n\t\t\tusername: 'hades@trueplus.vn',\n\t\t\tpassword: '123'\n\t\t}\n\t})\n\tangular.extend($scope,{\n\t\tdoLogin: function(loginForm){\n\t\t\tvar data = {\t\n\t\t\t\t\temail: $scope.login.username,\n\t\t\t\t\tpassword: $scope.login.password\n\t\t\t\t};\n\t\t\tuserModel.doLogin(data).then(\n\t\t\t\tfunction() {\n\t      \t\t\t$location.path('/dashboard');\n\t\t\t    }\n\t\t\t);\n\t\t},\n\t\tlogout: function(){\n\t\t\tuserModel.doLogout();\n\t\t\t$location.path('/');\n\t\t}\n\t});\n}]);","myApp.controller('globalController', ['$scope', function($scope){\n\t$scope.global = {};\n\t$scope.global.navUrl = 'templates/partials/nav.html';\n}]);","myApp.controller('navController', ['$scope', '$location', 'userModel', function($scope, $location, userModel){\n\tangular.extend($scope, {\n\t\tuser: userModel.getUserObject(),\n\t \tnavUrl: [{\n            link: 'Home',\n            url: '/dashboard',\n            subMenu: [{\n                link: 'View Gallery',\n                url: '/gallery/view'\n            }, {\n                link: 'Add Gallery',\n                url: '/gallery/add'\n            }]\n        }, {\n            link: 'View Gallery',\n            url: '/gallery/view'\n        }, {\n            link: 'Add Gallery',\n            url: '/gallery/add'\n        }]\n\t});\n\n\tangular.extend($scope, {\n\t\tdoLogout: function(){\n\t\t\tuserModel.doLogout();\n\t\t\t$location.path('/');\n\t\t},\n        checkActiveLink: function(routeLink){\n            if($location.path() == routeLink){\n                return 'make-active';\n            }\n        }\n\t});\n\n}]);","myApp.controller('galleryController', ['$scope', '$location', 'galleryModel', '$timeout', '$routeParams', 'Lightbox', 'data',\n\tfunction($scope, $location, galleryModel, $timeout, $routeParams, Lightbox, data){\n\t\n\t/*Getting all the galleries*/\n    if (data && data.galleries != undefined) {\n        data.galleries.then(function (response) {\n\t\t\t$timeout(function(){\n\t\t\t\t$scope.galleries = response.data;\n\t\t\t\t$scope.showGallery = true;\n\t\t\t}, 1000);\n\t\t});\n    }\n\n    /*Fetch a single gallery on the view gallery page*/\n    if (data && data.singleGallery != undefined) {\n        data.singleGallery.then(function(response) {\n\t\t\t$scope.singleGallery = response.data;\n\t    });\n    }\n\n\t$scope.$on('imageAdded', function(event, args){\n\t\t$scope.singleGallery = args;\n\t\t$scope.$apply();\n\t});\n\n\t/*variables*/\n\tangular.extend($scope, {\n\t\tnewGallery: {},\n\t\terrorDiv: false,\n\t\terrorMessage: [],\n\t\tsingleGallery: {},\n\t\tdropzoneConfig:{\n\t\t\t'options': { // passed into the Dropzone constructor\n      \t\t\t'url': baseUrl + 'upload-image'\n\t\t    },\n\t\t    'eventHandlers': {\n\t\t      \t'sending': function (file, xhr, formData) {\n\t\t      \t\tformData.append('_token', csrfToken);\n\t\t      \t\tformData.append('galleryId', $routeParams.id);\n\t\t      \t},\n\t\t      \t'success': function (file, response) {\n\t\t      \t\t$scope.singleGallery.images.push(response);\n\t\t      \t\t$scope.$emit('imageAdded', $scope.singleGallery);\n\t\t      \t}\n\t\t    }\n\t\t}\n\t});\n\n\t/*functions*/\n\tangular.extend($scope, {\n\t\tsaveNewGallery: function (addGalleryForm) {\n\t\t\tif(addGalleryForm.$valid){\n\t\t\t\t$scope.formSubmitted = false;\n\t\t\t\tgalleryModel.saveGallery($scope.newGallery).then(\n\t\t\t\tfunction() {\n\t      \t\t\t$location.path('gallery/view');\n\t\t\t    });\n\t\t\t}else{\n\t\t\t\t$scope.formSubmitted = true;\n\t\t\t}\n\t\t},\n\n\t\tviewGallery: function (id) {\n\t\t\t$location.path('gallery/view/'+ id);\n\t\t},\n\t\topenLightboxModal: function (index) {\n\t\t    Lightbox.openModal($scope.singleGallery.images, index);\n\t  \t},\n  \t \tdeleteImage: function(imageId) {\n            var data = {\n                imageId: imageId,\n                galleryId: $routeParams.id\n            };\n            galleryModel.deleteSingleImage(data).then(function(response) {\n                $scope.singleGallery = response.data;\n            });\n        }\t\n\t});\n}])"]}